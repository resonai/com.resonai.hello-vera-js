import{j as o,a as i}from"./jseApiHelper-dc463ecb.js";{let c=function(){const t=document.getElementById("send-text").value,e={msg:t};console.log("sendNativeMessage: ",t),o.sendNativeMessage({data:e}),o.sendArmeMessage({packageName:n,data:e})},l=function(t){console.log("onMessage",t);const e=document.getElementById("receive-text");e.value+=t.msg+`\r
`,e.scrollTop=e.scrollHeight};const n="com.resonai.ran_test_js",s="hello-vera-js.messaging";async function a(){o.onMessage(l),o.registerButtons({buttons:[{id:s}]}),o.loaded(),document.getElementById("send-button").addEventListener("click",c),document.getElementById("take-photo-button").addEventListener("click",d)}a();async function d(){try{const t=await i.call("takePhoto",{immediate:!0});if(t.cancelled){console.log("takePhoto cancelled");return}let e=document.getElementById("img");e||(e=new Image(300),e.id="img",e.style.transform="rotate(90deg)",e.style.marginTop="100px",e.style.border="solid red 5px",document.getElementById("photo-div").appendChild(e)),e.src="data:image/png;base64,"+t,console.log("takePhoto succeeded")}catch(t){console.error("takePhoto failed",t)}}}
